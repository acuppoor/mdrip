@{
    ViewBag.Title = "Map Visualisation";
}
<div id="map" class="test-test"></div>
<div class="floatingdiv">
    <button id="searchButton"><span class="glyphicon glyphicon-search"></span></button>
</div>
@*<div class="floatingdiv">
    <div style="float: left">
        <span class="progress-badge bold makewhite">Infection/Bacteria:</span>
        <input type="text" class="form-control bold makewhite" value="Amoxilin">
    </div>
    <div style="float: left">
        <span class="progress-badge bold makewhite">Region:</span>
        <input type="text" class="form-control bold makewhite" value="Islamabad">
    </div>
    <div style="float: left">
        <span class="progress-badge bold makewhite">From:</span>
        <input type="text" class="form-control date-picker bold makewhite" value="01/01/2018" data-datepicker-color="primary">
    </div>
    <div style="float: left">
        <span class="progress-badge bold makewhite">To:</span>
        <input type="text" class="form-control date-picker bold makewhite" value="01/01/2018" data-datepicker-color="primary">
    </div>
</div>*@

<div id="testmodal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="">
                <div>
                    <span class="progress-badge bold makewhite">Infection/Bacteria:</span>
                    <input type="text" class="form-control bold makewhite" value="Amoxilin">
                </div>
                <div>
                    <span class="progress-badge bold makewhite">Region:</span>
                    <input type="text" class="form-control bold makewhite" value="Islamabad">
                </div>
                <div >
                    <span class="progress-badge bold makewhite">From:</span>
                    <input type="text" class="form-control date-picker bold makewhite" value="01/01/2018" data-datepicker-color="primary">
                </div>
                <div>
                    <span class="progress-badge bold makewhite">To:</span>
                    <input type="text" class="form-control date-picker bold makewhite" value="01/01/2018" data-datepicker-color="primary">
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .makewhite {
        color: black;
    }
    .floatingdiv{
        position: absolute; bottom: 128px; height: 30px; width: 30px; z-index: 99;right:10px;
        background-color: white;
        opacity:1
    }
</style>

@*<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.3/dist/leaflet.css"
      integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
      crossorigin="" />*@
@*<script src="https://unpkg.com/leaflet@1.3.3/dist/leaflet.js"
        integrity="sha512-tAGcCfR4Sc5ZP5ZoVz0quoZDYX5aCtEm/eu1KhSLj2c9eFrylXZknQYmxUssFaVJKvvc0dJQixhGjG2yXWiV9Q=="
        crossorigin=""></script>*@
@*<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>*@

<script src="//cdnjs.cloudflare.com/ajax/libs/topojson/1.1.0/topojson.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
    function myMap() {
        var mapProp = {
            center: new google.maps.LatLng(30.3, 69.3),
            zoom: 5,
            styles: [
                {
                    "featureType": "administrative",
                    "elementType": "geometry",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "poi",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "road",
                    "elementType": "labels.icon",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                },
                {
                    "featureType": "transit",
                    "stylers": [
                        {
                            "visibility": "off"
                        }
                    ]
                }
            ]
        };
        var map = new google.maps.Map(document.getElementById("map"), mapProp);
        @*map.data.loadGeoJson('@Url.Content("~/Assets/map/pak.json")');*@
       
        var image = {
            url: '@Url.Content("~/Assets/map/icon.png")',
            size: new google.maps.Size(15, 15)
        }

        var contentString = '<div id="content">' +
            '<div id="siteNotice">' +
            '</div>' +
            '<h5 id="firstHeading" class="firstHeading">Toxin-medicated Diseases of S.Aureus S</h5><h6>Introduction of the infection</h6>'+
            '<div id="bodyContent">' +
            '<p><b>Prevalence: 125</b>,<br/>' +
            '<b>Mortality: 35</b>,<br/>' +
            '<b>Bateria: Staphylococcus Aureus (Anaerobic)</b>,<br/>' +
            '<b>Infection: Toxin-medicated diseases of S.Aureus include food poisoning' +
            'due to ingestion of enterotoxins, while toxic shock syndrome toxin 1 is responsible for toxic shock.,</b >,<br /></p>' +
            '<p><table style="width:100%"> <tr> <td>'+
                    'Timeline: June 2005 - September 2005<br /> </td> <td>'+
                    'Affected People: <Gender> and <Age><br /> </td> </tr> <tr> <td> Strain: -- <br />' +
            '    </td> <td> Taxonomy: --<br /> </td> </tr> <tr> <td> Morphology: --<br />  </td> <td> Virulence Factors: --<br />' +
            '    </td> </tr> <tr> <td> Interaction with Organisms: -- <br /> </td> <td> Antibiotics: -- <br /> </td> </tr>'+
            '<tr> <td> Treatments: -- <br /> </td>'+
            '</tr></table></p>' +
            '<p>Location: Military Hospital, Rawalpindi, Pakistan (<a href="#">Lat: 30.3, Long: 60.3</a>)</p>' + 
            '<a href="#">See References</p>' +
            '</div>' +
            '</div>';

        var marker = new google.maps.Marker({
            position: { lat: 30.3, lng: 69.3 },
            map: map,
            icon: image
        });
        var infowindow = new google.maps.InfoWindow({
            content: contentString,
            maxWidth: 400
        });
        var isOpen = false;
        var isClicked = false;

        google.maps.event.addListener(infowindow, 'closeclick', function () {
            isOpen = false;
            isClicked = false;
        });

        marker.addListener('mouseover', function () {
            if (!isClicked) {
                infowindow.open(map, marker);
                isOpen = true;
            }
        });
        marker.addListener('mouseout', function () {
            if (isOpen && !isClicked) {
                isOpen = false;
                infowindow.close();
            }
        });

        marker.addListener('click', function () {
            isOpen = false;
            isClicked = true;
            infowindow.open(map, marker);
        });

        $("#searchButton").click( function () {
            $('#testmodal').modal({
                show: true
            });
        });
    }

@*var mymap = new L.Map("map", {center: [30.3, 69.3], zoom: 5})
        .addLayer(new L.TileLayer("https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png"));

    var blueIcon = L.icon({
        iconUrl: '@Url.Content("~/Assets/map/bluecircle.png")',
        iconSize: [10, 10], // size of the icon
    });

    var marker = L.marker([30.3, 69.3], {
        icon: blueIcon
    }).addTo(mymap);

    var svg = d3.select(mymap.getPanes().overlayPane).append("svg"),
    g = svg.append("g").attr("class", "leaflet-zoom-hide");*@

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDb6BqMVbPU5a6zxYg88S7AQcfoPbkhEaU&callback=myMap"></script>